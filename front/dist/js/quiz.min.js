!function(q){q.fn.jquizzy=function(e){var c=q.extend({questions:null,startImg:"http://bpic.588ku.com/element_origin_min_pic/19/03/06/b8a3bdfe9014a8a5805c7d16bf9542dc.jpg",endText:"已结束!",shortURL:null,sendResultsURL:null,resultComments:{perfect:"根据测试结果显示，在你的感情生活中，PUA（即搭讪艺术家）基本不存在！",excellent:"根据测试结果显示，在你的感情生活中，PUA（即搭讪艺术家）基本不存在！",good:"根据测试结果显示，在你的感情生活中，PUA（即搭讪艺术家）基本不存在！",average:"根据测试结果显示，在你的感情生活中，TA只有极少的行为像PUA（即搭讪艺术家）。大概是因人都各有不同的巧合，所以，这些。不过，TA像是在和你玩情感游戏，你们之间的关系缺乏责任时，或者当TA将发生的一切正常化时，包括那些让你感到不舒服的部分，保持警惕。如若出现问题，要趁早断绝关系，避免越陷越深，同时及时向朋友家人寻求帮助。\n",bad:"太可怜了！",poor:"根据测试结果显示，在你的感情生活中，PUA（即搭讪艺术家）有一半以上的可能性存在。通常，真正喜欢你的人，在对你示好并得到回应后，会自然地流露出愉快和欣喜，进一步拉近你们的距离。但性爱捕食者只是在操纵你，通过制造不安全感，来吸引你的注意力，让你对TA上心。但是，由于乐观者偏差，人们倾向于认为美好的事情有更大概率会发生在自己身上，即使事出反常也往往心存侥幸。还请注意观察，现阶段TA表现出来的深情，和你们互相了解的程度是不匹配的。不要忘记保持警惕，如若遇到困难，请及时向朋友而家人寻求帮助。",worst:"根据测试结果显示，在你的感情生活中，TA极有可能是PUA（即搭讪艺术家）。所以，你需要在确保自己安全的基础上，做好周全的准备和计划。离开捕食者往往是特别困难的。他们对你的态度变化会非常敏感，从而预先强化对你的控制；此外，从心理上，你可能还牵挂着对方，不甘心就这样离开。 离开时最好留存证据，比如微信聊天记录、视频资料、录音等。当你试图逃离这段关系，性爱捕猎者可能会进一步威胁或构陷你。留下尽可能详实的证据，可以帮助在司法程序或其它场景下更好地保护自己。"}},e);if(null!==c.questions){var s,u,h=q(this),v=[],n='\t<div class="intro-container slide-container"><a class="nav-start" href="#">测一测你遇上PUA的概率！准备好了吗？<br/><br/><span><img src="'+c.startImg+'" style="height: 300px;width: 400px;"></span></a></div>\t',t='<div class="results-container slide-container"><div class="question-number">'+c.endText+'</div><div class="result-keeper"></div></div><div class="notice">请选择一个选项！</div><div class="progress-keeper" ><div class="progress"></div></div>',a="";for(h.addClass("main-quiz-holder"),s=0;s<c.questions.length;s++){for(a+='<div class="slide-container"><div class="question-number">'+(s+1)+"/"+c.questions.length+'</div><div class="question">'+c.questions[s].question+'</div><ul class="answers">',u=0;u<c.questions[s].answers.length;u++)a+="<li>"+c.questions[s].answers[u]+"</li>";a+='</ul><div class="nav-container">',0!==s&&(a+='<div class="prev"><a class="nav-previous" href="#">&lt; 上一题</a></div>'),s<c.questions.length-1?a+='<div class="next"><a class="nav-next" href="#">下一题 &gt;</a></div>':a+='<div class="next final"><a class="nav-show-result" href="#">完成</a></div>',a+="</div></div>",v.push(c.questions[s].correctAnswer)}h.html(n+a+t);var l=h.find(".progress"),f=h.find(".progress-keeper"),p=h.find(".notice"),d=f.width(),m=[],w=c.questions.length,o=h.find(".slide-container");f.hide(),p.hide(),o.hide().first().fadeIn(500),h.find("li").click(function(){var e=q(this);e.hasClass("selected")?e.removeClass("selected"):(e.parents(".answers").children("li").removeClass("selected"),e.addClass("selected"))}),h.find(".nav-start").click(function(){return q(this).parents(".slide-container").fadeOut(500,function(){q(this).next().fadeIn(500),f.fadeIn(500)}),!1}),h.find(".next").click(function(){return 0===q(this).parents(".slide-container").find("li.selected").length?p.fadeIn(300):(p.hide(),q(this).parents(".slide-container").fadeOut(500,function(){q(this).next().fadeIn(500)}),l.animate({width:l.width()+Math.round(d/w)},500)),!1}),h.find(".prev").click(function(){return p.hide(),q(this).parents(".slide-container").fadeOut(500,function(){q(this).prev().fadeIn(500)}),l.animate({width:l.width()-Math.round(d/w)},500),!1}),h.find(".final").click(function(){if(0===q(this).parents(".slide-container").find("li.selected").length)return p.fadeIn(300),!1;if(h.find("li.selected").each(function(e){m.push(q(this).parents(".answers").children("li").index(q(this).parents(".answers").find("li.selected"))+1)}),null!==c.sendResultsURL){var e=[];for(r=0;r<m.length;r++)e.push('{"questionNumber":"'+parseInt(r+1,10)+'", "userAnswer":"'+m[r]+'"}');q.ajax({type:"POST",url:c.sendResultsURL,data:'{"answers": ['+e.join(",")+"]}",complete:function(){console.log("OH HAI")}})}f.hide();var s,n=function(){var e=[],s=!1;for(i=0;i<v.length;i++)s=v[i]==m[i],e.push(s);return e}(),t="",a=0;null===c.shortURL&&(c.shortURL=window.location);for(var l=0,d=n.length;l<d;l++){for(!0===n[l]&&(a++,isCorrect=!0),t+='<div class="result-row">'+(!0===n[l]?"<div class='correct'>#"+(l+1)+"<span></span></div>":"<div class='wrong'>#"+(l+1)+"<span></span></div>"),t+='<div class="resultsview-qhover">'+c.questions[l].question,t+="<ul>",u=0;u<c.questions[l].answers.length;u++){var o="";c.questions[l].correctAnswer==u+1&&(o+="right"),m[l]==u+1&&(o+=" selected"),t+='<li class="'+o+'">'+c.questions[l].answers[u]+"</li>"}t+="</ul></div></div>"}return t='<h2 class="qTitle">'+function(e){return 100===e?c.resultComments.perfect:90<e?c.resultComments.excellent:70<e?c.resultComments.good:50<e?c.resultComments.average:35<e?c.resultComments.bad:20<e?c.resultComments.poor:c.resultComments.worst}(s=function(e,s){return Math.round(e*Math.pow(10,s))/Math.pow(10,s)}(a/w*100,2))+"<br/> 您的分数： "+s+'</h2><div class="jquizzy-clear"></div>'+t+'<div class="jquizzy-clear"></div>',h.find(".result-keeper").html(t).show(500),h.find(".resultsview-qhover").hide(),h.find(".result-row").hover(function(){q(this).find(".resultsview-qhover").show()},function(){q(this).find(".resultsview-qhover").hide()}),q(this).parents(".slide-container").fadeOut(500,function(){q(this).next().fadeIn(500)}),!1})}else q(this).html('<div class="intro-container slide-container"><h2 class="qTitle">Failed to parse questions.</h2></div>')}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1aXouanMiXSwibmFtZXMiOlsiJCIsImZuIiwianF1aXp6eSIsInNldHRpbmdzIiwiY29uZmlnIiwiZXh0ZW5kIiwicXVlc3Rpb25zIiwic3RhcnRJbWciLCJlbmRUZXh0Iiwic2hvcnRVUkwiLCJzZW5kUmVzdWx0c1VSTCIsInJlc3VsdENvbW1lbnRzIiwicGVyZmVjdCIsImV4Y2VsbGVudCIsImdvb2QiLCJhdmVyYWdlIiwiYmFkIiwicG9vciIsIndvcnN0IiwicXVlc3Rpb25zSXRlcmF0b3JJbmRleCIsImFuc3dlcnNJdGVyYXRvckluZGV4Iiwic3VwZXJDb250YWluZXIiLCJ0aGlzIiwiYW5zd2VycyIsImludHJvRm9iIiwiZXhpdEZvYiIsImNvbnRlbnRGb2IiLCJhZGRDbGFzcyIsImxlbmd0aCIsInF1ZXN0aW9uIiwicHVzaCIsImNvcnJlY3RBbnN3ZXIiLCJodG1sIiwicHJvZ3Jlc3MiLCJmaW5kIiwicHJvZ3Jlc3NLZWVwZXIiLCJub3RpY2UiLCJwcm9ncmVzc1dpZHRoIiwid2lkdGgiLCJ1c2VyQW5zd2VycyIsInF1ZXN0aW9uTGVuZ3RoIiwic2xpZGVzTGlzdCIsImhpZGUiLCJmaXJzdCIsImZhZGVJbiIsImNsaWNrIiwidGhpc0xpIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInBhcmVudHMiLCJjaGlsZHJlbiIsImZhZGVPdXQiLCJuZXh0IiwiYW5pbWF0ZSIsIk1hdGgiLCJyb3VuZCIsInByZXYiLCJlYWNoIiwiaW5kZXgiLCJjb2xsYXRlIiwiciIsInBhcnNlSW50IiwiYWpheCIsInR5cGUiLCJ1cmwiLCJkYXRhIiwiam9pbiIsImNvbXBsZXRlIiwiY29uc29sZSIsImxvZyIsInNjb3JlIiwicmVzdWx0cyIsInJlc3VsdEFyciIsImZsYWciLCJpIiwiY2hlY2tBbnN3ZXJzIiwicmVzdWx0U2V0IiwidHJ1ZUNvdW50Iiwid2luZG93IiwibG9jYXRpb24iLCJ0b0xvb3BUaWxsIiwiaXNDb3JyZWN0IiwiY2xhc3Nlc3RvQWRkIiwianVkZ2VTa2lsbHMiLCJudW0iLCJkZWMiLCJwb3ciLCJyb3VuZFJlbG9hZGVkIiwic2hvdyIsImhvdmVyIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFVQSxHQUNOQSxFQUFFQyxHQUFHQyxRQUFVLFNBQVNDLEdBQ3BCLElBZ0JJQyxFQUFTSixFQUFFSyxPQWhCQSxDQUNYQyxVQUFXLEtBQ1hDLFNBQVUsNkZBQ1ZDLFFBQVMsT0FDVEMsU0FBVSxLQUNWQyxlQUFnQixLQUNoQkMsZUFBZ0IsQ0FDWkMsUUFBUyxzQ0FDVEMsVUFBVyxzQ0FDWEMsS0FBTSxzQ0FDTkMsUUFBUyxzS0FDVEMsSUFBSyxRQUNMQyxLQUFNLHVQQUNOQyxNQUFPLHVPQUdpQmYsR0FDaEMsR0FBeUIsT0FBckJDLEVBQU9FLFVBQVgsQ0FJQSxJQUtBYSxFQUNBQyxFQU5JQyxFQUFpQnJCLEVBQUVzQixNQUN2QkMsRUFBVSxHQUNWQyxFQUFXLDZIQUE0SHBCLEVBQU9HLFNBQVMsNERBQ3ZKa0IsRUFBVSwrRUFBaUZyQixFQUFPSSxRQUFVLGtKQUM1R2tCLEVBQWEsR0FJYixJQURBTCxFQUFlTSxTQUFTLG9CQUNuQlIsRUFBeUIsRUFBR0EsRUFBeUJmLEVBQU9FLFVBQVVzQixPQUFRVCxJQUEwQixDQUV6RyxJQURBTyxHQUFjLDhEQUFnRVAsRUFBeUIsR0FBSyxJQUFNZixFQUFPRSxVQUFVc0IsT0FBUywrQkFBaUN4QixFQUFPRSxVQUFVYSxHQUF3QlUsU0FBVyw2QkFDNU5ULEVBQXVCLEVBQUdBLEVBQXVCaEIsRUFBT0UsVUFBVWEsR0FBd0JJLFFBQVFLLE9BQVFSLElBQzNHTSxHQUFjLE9BQVN0QixFQUFPRSxVQUFVYSxHQUF3QkksUUFBUUgsR0FBd0IsUUFFcEdNLEdBQWMsbUNBQ2lCLElBQTNCUCxJQUNBTyxHQUFjLHlFQUVkUCxFQUF5QmYsRUFBT0UsVUFBVXNCLE9BQVMsRUFDbkRGLEdBQWMsb0VBRWRBLEdBQWMsMkVBRWxCQSxHQUFjLGVBQ2RILEVBQVFPLEtBQUsxQixFQUFPRSxVQUFVYSxHQUF3QlksZUFFMURWLEVB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QzVKdkQsRUFBZWEsS0FBSyxrQkFBa0JGLEtBQUs0QyxHQUFXWSxLQUFLLEtBQzNEbkUsRUFBZWEsS0FBSyx1QkFBdUJRLE9BQzNDckIsRUFBZWEsS0FBSyxlQUFldUQsTUFBTSxXQUNyQ3pGLEVBQUVzQixNQUFNWSxLQUFLLHVCQUF1QnNELFFBRXhDLFdBQ0l4RixFQUFFc0IsTUFBTVksS0FBSyx1QkFBdUJRLFNBRXhDMUMsRUFBRXNCLE1BQU0yQixRQUFRLG9CQUFvQkUsUUFBUSxJQUM1QyxXQUNJbkQsRUFBRXNCLE1BQU04QixPQUFPUixPQUFPLFFBRW5CLFNBbkxQNUMsRUFBRXNCLE1BQU1VLEtBQUssMEdBcEJ6QixDQTBNRzBEIiwiZmlsZSI6InF1aXoubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCQpIHtcbiAgICAkLmZuLmpxdWl6enkgPSBmdW5jdGlvbihzZXR0aW5ncykge1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBxdWVzdGlvbnM6IG51bGwsXG4gICAgICAgICAgICBzdGFydEltZzogJ2h0dHA6Ly9icGljLjU4OGt1LmNvbS9lbGVtZW50X29yaWdpbl9taW5fcGljLzE5LzAzLzA2L2I4YTNiZGZlOTAxNGE4YTU4MDVjN2QxNmJmOTU0MmRjLmpwZycsXG4gICAgICAgICAgICBlbmRUZXh0OiAn5bey57uT5p2fIScsXG4gICAgICAgICAgICBzaG9ydFVSTDogbnVsbCxcbiAgICAgICAgICAgIHNlbmRSZXN1bHRzVVJMOiBudWxsLFxuICAgICAgICAgICAgcmVzdWx0Q29tbWVudHM6IHtcbiAgICAgICAgICAgICAgICBwZXJmZWN0OiAn5qC55o2u5rWL6K+V57uT5p6c5pi+56S677yM5Zyo5L2g55qE5oSf5oOF55Sf5rS75Lit77yMUFVB77yI5Y2z5pCt6K6q6Im65pyv5a6277yJ5Z+65pys5LiN5a2Y5Zyo77yBJyxcbiAgICAgICAgICAgICAgICBleGNlbGxlbnQ6ICfmoLnmja7mtYvor5Xnu5PmnpzmmL7npLrvvIzlnKjkvaDnmoTmhJ/mg4XnlJ/mtLvkuK3vvIxQVUHvvIjljbPmkK3orqroibrmnK/lrrbvvInln7rmnKzkuI3lrZjlnKjvvIEnLFxuICAgICAgICAgICAgICAgIGdvb2Q6ICfmoLnmja7mtYvor5Xnu5PmnpzmmL7npLrvvIzlnKjkvaDnmoTmhJ/mg4XnlJ/mtLvkuK3vvIxQVUHvvIjljbPmkK3orqroibrmnK/lrrbvvInln7rmnKzkuI3lrZjlnKjvvIEnLFxuICAgICAgICAgICAgICAgIGF2ZXJhZ2U6ICfmoLnmja7mtYvor5Xnu5PmnpzmmL7npLrvvIzlnKjkvaDnmoTmhJ/mg4XnlJ/mtLvkuK3vvIxUQeWPquacieaegeWwkeeahOihjOS4uuWDj1BVQe+8iOWNs+aQreiuquiJuuacr+Wutu+8ieOAguWkp+amguaYr+WboOS6uumDveWQhOacieS4jeWQjOeahOW3p+WQiO+8jOaJgOS7pe+8jOi/meS6m+OAguS4jei/h++8jFRB5YOP5piv5Zyo5ZKM5L2g546p5oOF5oSf5ri45oiP77yM5L2g5Lus5LmL6Ze055qE5YWz57O757y65LmP6LSj5Lu75pe277yM5oiW6ICF5b2TVEHlsIblj5HnlJ/nmoTkuIDliIfmraPluLjljJbml7bvvIzljIXmi6zpgqPkupvorqnkvaDmhJ/liLDkuI3oiJLmnI3nmoTpg6jliIbvvIzkv53mjIHorabmg5XjgILlpoLoi6Xlh7rnjrDpl67popjvvIzopoHotoHml6nmlq3nu53lhbPns7vvvIzpgb/lhY3otorpmbfotormt7HvvIzlkIzml7blj4rml7blkJHmnIvlj4vlrrbkurrlr7vmsYLluK7liqnjgIJcXG4nLFxuICAgICAgICAgICAgICAgIGJhZDogJ+WkquWPr+aAnOS6hu+8gScsXG4gICAgICAgICAgICAgICAgcG9vcjogJ+agueaNrua1i+ivlee7k+aenOaYvuekuu+8jOWcqOS9oOeahOaEn+aDheeUn+a0u+S4re+8jFBVQe+8iOWNs+aQreiuquiJuuacr+Wutu+8ieacieS4gOWNiuS7peS4iueahOWPr+iDveaAp+WtmOWcqOOAgumAmuW4uO+8jOecn+ato+WWnOasouS9oOeahOS6uu+8jOWcqOWvueS9oOekuuWlveW5tuW+l+WIsOWbnuW6lOWQju+8jOS8muiHqueEtuWcsOa1gemcsuWHuuaEieW/q+WSjOaso+WWnO+8jOi/m+S4gOatpeaLiei/keS9oOS7rOeahOi3neemu+OAguS9huaAp+eIseaNlemjn+iAheWPquaYr+WcqOaTjee6teS9oO+8jOmAmui/h+WItumAoOS4jeWuieWFqOaEn++8jOadpeWQuOW8leS9oOeahOazqOaEj+WKm++8jOiuqeS9oOWvuVRB5LiK5b+D44CC5L2G5piv77yM55Sx5LqO5LmQ6KeC6ICF5YGP5beu77yM5Lq65Lus5YC+5ZCR5LqO6K6k5Li6576O5aW955qE5LqL5oOF5pyJ5pu05aSn5qaC546H5Lya5Y+R55Sf5Zyo6Ieq5bex6Lqr5LiK77yM5Y2z5L2/5LqL5Ye65Y+N5bi45Lmf5b6A5b6A5b+D5a2Y5L6l5bm444CC6L+Y6K+35rOo5oSP6KeC5a+f77yM546w6Zi25q61VEHooajnjrDlh7rmnaXnmoTmt7Hmg4XvvIzlkozkvaDku6zkupLnm7jkuobop6PnmoTnqIvluqbmmK/kuI3ljLnphY3nmoTjgILkuI3opoHlv5jorrDkv53mjIHorabmg5XvvIzlpoLoi6XpgYfliLDlm7Dpmr7vvIzor7flj4rml7blkJHmnIvlj4vogIzlrrbkurrlr7vmsYLluK7liqnjgIInLFxuICAgICAgICAgICAgICAgIHdvcnN0OiAn5qC55o2u5rWL6K+V57uT5p6c5pi+56S677yM5Zyo5L2g55qE5oSf5oOF55Sf5rS75Lit77yMVEHmnoHmnInlj6/og73mmK9QVUHvvIjljbPmkK3orqroibrmnK/lrrbvvInjgILmiYDku6XvvIzkvaDpnIDopoHlnKjnoa7kv53oh6rlt7HlronlhajnmoTln7rnoYDkuIrvvIzlgZrlpb3lkajlhajnmoTlh4blpIflkozorqHliJLjgILnprvlvIDmjZXpo5/ogIXlvoDlvoDmmK/nibnliKvlm7Dpmr7nmoTjgILku5bku6zlr7nkvaDnmoTmgIHluqblj5jljJbkvJrpnZ7luLjmlY/mhJ/vvIzku47ogIzpooTlhYjlvLrljJblr7nkvaDnmoTmjqfliLbvvJvmraTlpJbvvIzku47lv4PnkIbkuIrvvIzkvaDlj6/og73ov5jnibXmjILnnYDlr7nmlrnvvIzkuI3nlJjlv4PlsLHov5nmoLfnprvlvIDjgIIg56a75byA5pe25pyA5aW955WZ5a2Y6K+B5o2u77yM5q+U5aaC5b6u5L+h6IGK5aSp6K6w5b2V44CB6KeG6aKR6LWE5paZ44CB5b2V6Z+z562J44CC5b2T5L2g6K+V5Zu+6YCD56a76L+Z5q615YWz57O777yM5oCn54ix5o2V54yO6ICF5Y+v6IO95Lya6L+b5LiA5q2l5aiB6IOB5oiW5p6E6Zm35L2g44CC55WZ5LiL5bC95Y+v6IO96K+m5a6e55qE6K+B5o2u77yM5Y+v5Lul5biu5Yqp5Zyo5Y+45rOV56iL5bqP5oiW5YW25a6D5Zy65pmv5LiL5pu05aW95Zyw5L+d5oqk6Ieq5bex44CCJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY29uZmlnID0gJC5leHRlbmQoZGVmYXVsdHMsIHNldHRpbmdzKTtcbiAgICAgICAgaWYgKGNvbmZpZy5xdWVzdGlvbnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICQodGhpcykuaHRtbCgnPGRpdiBjbGFzcz1cImludHJvLWNvbnRhaW5lciBzbGlkZS1jb250YWluZXJcIj48aDIgY2xhc3M9XCJxVGl0bGVcIj5GYWlsZWQgdG8gcGFyc2UgcXVlc3Rpb25zLjwvaDI+PC9kaXY+Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1cGVyQ29udGFpbmVyID0gJCh0aGlzKSxcbiAgICAgICAgYW5zd2VycyA9IFtdLFxuICAgICAgICBpbnRyb0ZvYiA9ICdcdDxkaXYgY2xhc3M9XCJpbnRyby1jb250YWluZXIgc2xpZGUtY29udGFpbmVyXCI+PGEgY2xhc3M9XCJuYXYtc3RhcnRcIiBocmVmPVwiI1wiPua1i+S4gOa1i+S9oOmBh+S4ilBVQeeahOamgueOh++8geWHhuWkh+WlveS6huWQl++8nzxici8+PGJyLz48c3Bhbj48aW1nIHNyYz1cIicrY29uZmlnLnN0YXJ0SW1nKydcIiBzdHlsZT1cImhlaWdodDogMzAwcHg7d2lkdGg6IDQwMHB4O1wiPjwvc3Bhbj48L2E+PC9kaXY+XHQnLFxuICAgICAgICBleGl0Rm9iID0gJzxkaXYgY2xhc3M9XCJyZXN1bHRzLWNvbnRhaW5lciBzbGlkZS1jb250YWluZXJcIj48ZGl2IGNsYXNzPVwicXVlc3Rpb24tbnVtYmVyXCI+JyArIGNvbmZpZy5lbmRUZXh0ICsgJzwvZGl2PjxkaXYgY2xhc3M9XCJyZXN1bHQta2VlcGVyXCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cIm5vdGljZVwiPuivt+mAieaLqeS4gOS4qumAiemhue+8gTwvZGl2PjxkaXYgY2xhc3M9XCJwcm9ncmVzcy1rZWVwZXJcIiA+PGRpdiBjbGFzcz1cInByb2dyZXNzXCI+PC9kaXY+PC9kaXY+JyxcbiAgICAgICAgY29udGVudEZvYiA9ICcnLFxuICAgICAgICBxdWVzdGlvbnNJdGVyYXRvckluZGV4LFxuICAgICAgICBhbnN3ZXJzSXRlcmF0b3JJbmRleDtcbiAgICAgICAgc3VwZXJDb250YWluZXIuYWRkQ2xhc3MoJ21haW4tcXVpei1ob2xkZXInKTtcbiAgICAgICAgZm9yIChxdWVzdGlvbnNJdGVyYXRvckluZGV4ID0gMDsgcXVlc3Rpb25zSXRlcmF0b3JJbmRleCA8IGNvbmZpZy5xdWVzdGlvbnMubGVuZ3RoOyBxdWVzdGlvbnNJdGVyYXRvckluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnRlbnRGb2IgKz0gJzxkaXYgY2xhc3M9XCJzbGlkZS1jb250YWluZXJcIj48ZGl2IGNsYXNzPVwicXVlc3Rpb24tbnVtYmVyXCI+JyArIChxdWVzdGlvbnNJdGVyYXRvckluZGV4ICsgMSkgKyAnLycgKyBjb25maWcucXVlc3Rpb25zLmxlbmd0aCArICc8L2Rpdj48ZGl2IGNsYXNzPVwicXVlc3Rpb25cIj4nICsgY29uZmlnLnF1ZXN0aW9uc1txdWVzdGlvbnNJdGVyYXRvckluZGV4XS5xdWVzdGlvbiArICc8L2Rpdj48dWwgY2xhc3M9XCJhbnN3ZXJzXCI+JztcbiAgICAgICAgICAgIGZvciAoYW5zd2Vyc0l0ZXJhdG9ySW5kZXggPSAwOyBhbnN3ZXJzSXRlcmF0b3JJbmRleCA8IGNvbmZpZy5xdWVzdGlvbnNbcXVlc3Rpb25zSXRlcmF0b3JJbmRleF0uYW5zd2Vycy5sZW5ndGg7IGFuc3dlcnNJdGVyYXRvckluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBjb250ZW50Rm9iICs9ICc8bGk+JyArIGNvbmZpZy5xdWVzdGlvbnNbcXVlc3Rpb25zSXRlcmF0b3JJbmRleF0uYW5zd2Vyc1thbnN3ZXJzSXRlcmF0b3JJbmRleF0gKyAnPC9saT4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGVudEZvYiArPSAnPC91bD48ZGl2IGNsYXNzPVwibmF2LWNvbnRhaW5lclwiPic7XG4gICAgICAgICAgICBpZiAocXVlc3Rpb25zSXRlcmF0b3JJbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRGb2IgKz0gJzxkaXYgY2xhc3M9XCJwcmV2XCI+PGEgY2xhc3M9XCJuYXYtcHJldmlvdXNcIiBocmVmPVwiI1wiPiZsdDsg5LiK5LiA6aKYPC9hPjwvZGl2Pic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocXVlc3Rpb25zSXRlcmF0b3JJbmRleCA8IGNvbmZpZy5xdWVzdGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRGb2IgKz0gJzxkaXYgY2xhc3M9XCJuZXh0XCI+PGEgY2xhc3M9XCJuYXYtbmV4dFwiIGhyZWY9XCIjXCI+5LiL5LiA6aKYICZndDs8L2E+PC9kaXY+JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGVudEZvYiArPSAnPGRpdiBjbGFzcz1cIm5leHQgZmluYWxcIj48YSBjbGFzcz1cIm5hdi1zaG93LXJlc3VsdFwiIGhyZWY9XCIjXCI+5a6M5oiQPC9hPjwvZGl2Pic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZW50Rm9iICs9ICc8L2Rpdj48L2Rpdj4nO1xuICAgICAgICAgICAgYW5zd2Vycy5wdXNoKGNvbmZpZy5xdWVzdGlvbnNbcXVlc3Rpb25zSXRlcmF0b3JJbmRleF0uY29ycmVjdEFuc3dlcik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXJDb250YWluZXIuaHRtbChpbnRyb0ZvYiArIGNvbnRlbnRGb2IgKyBleGl0Rm9iKTtcbiAgICAgICAgdmFyIHByb2dyZXNzID0gc3VwZXJDb250YWluZXIuZmluZCgnLnByb2dyZXNzJyksXG4gICAgICAgIHByb2dyZXNzS2VlcGVyID0gc3VwZXJDb250YWluZXIuZmluZCgnLnByb2dyZXNzLWtlZXBlcicpLFxuICAgICAgICBub3RpY2UgPSBzdXBlckNvbnRhaW5lci5maW5kKCcubm90aWNlJyksXG4gICAgICAgIHByb2dyZXNzV2lkdGggPSBwcm9ncmVzc0tlZXBlci53aWR0aCgpLFxuICAgICAgICB1c2VyQW5zd2VycyA9IFtdLFxuICAgICAgICBxdWVzdGlvbkxlbmd0aCA9IGNvbmZpZy5xdWVzdGlvbnMubGVuZ3RoLFxuICAgICAgICBzbGlkZXNMaXN0ID0gc3VwZXJDb250YWluZXIuZmluZCgnLnNsaWRlLWNvbnRhaW5lcicpO1xuICAgICAgICBmdW5jdGlvbiBjaGVja0Fuc3dlcnMoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0QXJyID0gW10sXG4gICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYW5zd2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChhbnN3ZXJzW2ldID09IHVzZXJBbnN3ZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0QXJyLnB1c2goZmxhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0QXJyO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJvdW5kUmVsb2FkZWQobnVtLCBkZWMpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBNYXRoLnJvdW5kKG51bSAqIE1hdGgucG93KDEwLCBkZWMpKSAvIE1hdGgucG93KDEwLCBkZWMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBqdWRnZVNraWxscyhzY29yZSkge1xuICAgICAgICAgICAgdmFyIHJldHVyblN0cmluZztcbiAgICAgICAgICAgIGlmIChzY29yZSA9PT0gMTAwKSByZXR1cm4gY29uZmlnLnJlc3VsdENvbW1lbnRzLnBlcmZlY3Q7XG4gICAgICAgICAgICBlbHNlIGlmIChzY29yZSA+IDkwKSByZXR1cm4gY29uZmlnLnJlc3VsdENvbW1lbnRzLmV4Y2VsbGVudDtcbiAgICAgICAgICAgIGVsc2UgaWYgKHNjb3JlID4gNzApIHJldHVybiBjb25maWcucmVzdWx0Q29tbWVudHMuZ29vZDtcbiAgICAgICAgICAgIGVsc2UgaWYgKHNjb3JlID4gNTApIHJldHVybiBjb25maWcucmVzdWx0Q29tbWVudHMuYXZlcmFnZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHNjb3JlID4gMzUpIHJldHVybiBjb25maWcucmVzdWx0Q29tbWVudHMuYmFkO1xuICAgICAgICAgICAgZWxzZSBpZiAoc2NvcmUgPiAyMCkgcmV0dXJuIGNvbmZpZy5yZXN1bHRDb21tZW50cy5wb29yO1xuICAgICAgICAgICAgZWxzZSByZXR1cm4gY29uZmlnLnJlc3VsdENvbW1lbnRzLndvcnN0O1xuICAgICAgICB9XG4gICAgICAgIHByb2dyZXNzS2VlcGVyLmhpZGUoKTtcbiAgICAgICAgbm90aWNlLmhpZGUoKTtcbiAgICAgICAgc2xpZGVzTGlzdC5oaWRlKCkuZmlyc3QoKS5mYWRlSW4oNTAwKTtcbiAgICAgICAgc3VwZXJDb250YWluZXIuZmluZCgnbGknKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGlzTGkgPSAkKHRoaXMpO1xuICAgICAgICAgICAgaWYgKHRoaXNMaS5oYXNDbGFzcygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgIHRoaXNMaS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpc0xpLnBhcmVudHMoJy5hbnN3ZXJzJykuY2hpbGRyZW4oJ2xpJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgdGhpc0xpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3VwZXJDb250YWluZXIuZmluZCgnLm5hdi1zdGFydCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuc2xpZGUtY29udGFpbmVyJykuZmFkZU91dCg1MDAsXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm5leHQoKS5mYWRlSW4oNTAwKTtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0tlZXBlci5mYWRlSW4oNTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgc3VwZXJDb250YWluZXIuZmluZCgnLm5leHQnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLnBhcmVudHMoJy5zbGlkZS1jb250YWluZXInKS5maW5kKCdsaS5zZWxlY3RlZCcpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG5vdGljZS5mYWRlSW4oMzAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub3RpY2UuaGlkZSgpO1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuc2xpZGUtY29udGFpbmVyJykuZmFkZU91dCg1MDAsXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm5leHQoKS5mYWRlSW4oNTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvZ3Jlc3MuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHByb2dyZXNzLndpZHRoKCkgKyBNYXRoLnJvdW5kKHByb2dyZXNzV2lkdGggLyBxdWVzdGlvbkxlbmd0aClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA1MDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgc3VwZXJDb250YWluZXIuZmluZCgnLnByZXYnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5vdGljZS5oaWRlKCk7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5zbGlkZS1jb250YWluZXInKS5mYWRlT3V0KDUwMCxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykucHJldigpLmZhZGVJbig1MDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9ncmVzcy5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogcHJvZ3Jlc3Mud2lkdGgoKSAtIE1hdGgucm91bmQocHJvZ3Jlc3NXaWR0aCAvIHF1ZXN0aW9uTGVuZ3RoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDUwMCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICBzdXBlckNvbnRhaW5lci5maW5kKCcuZmluYWwnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLnBhcmVudHMoJy5zbGlkZS1jb250YWluZXInKS5maW5kKCdsaS5zZWxlY3RlZCcpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG5vdGljZS5mYWRlSW4oMzAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdXBlckNvbnRhaW5lci5maW5kKCdsaS5zZWxlY3RlZCcpLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB1c2VyQW5zd2Vycy5wdXNoKCQodGhpcykucGFyZW50cygnLmFuc3dlcnMnKS5jaGlsZHJlbignbGknKS5pbmRleCgkKHRoaXMpLnBhcmVudHMoJy5hbnN3ZXJzJykuZmluZCgnbGkuc2VsZWN0ZWQnKSkgKyAxKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5zZW5kUmVzdWx0c1VSTCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBjb2xsYXRlID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChyID0gMDsgciA8IHVzZXJBbnN3ZXJzLmxlbmd0aDsgcisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxhdGUucHVzaCgne1wicXVlc3Rpb25OdW1iZXJcIjpcIicgKyBwYXJzZUludChyICsgMSwgMTApICsgJ1wiLCBcInVzZXJBbnN3ZXJcIjpcIicgKyB1c2VyQW5zd2Vyc1tyXSArICdcIn0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbmZpZy5zZW5kUmVzdWx0c1VSTCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJ3tcImFuc3dlcnNcIjogWycgKyBjb2xsYXRlLmpvaW4oXCIsXCIpICsgJ119JyxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPSCBIQUlcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2dyZXNzS2VlcGVyLmhpZGUoKTtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gY2hlY2tBbnN3ZXJzKCksXG4gICAgICAgICAgICByZXN1bHRTZXQgPSAnJyxcbiAgICAgICAgICAgIHRydWVDb3VudCA9IDAsXG4gICAgICAgICAgICBzaGFyZUJ1dHRvbiA9ICcnLFxuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICB1cmw7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnNob3J0VVJMID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLnNob3J0VVJMID0gd2luZG93LmxvY2F0aW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsXG4gICAgICAgICAgICB0b0xvb3BUaWxsID0gcmVzdWx0cy5sZW5ndGg7IGkgPCB0b0xvb3BUaWxsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0c1tpXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnVlQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaXNDb3JyZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0U2V0ICs9ICc8ZGl2IGNsYXNzPVwicmVzdWx0LXJvd1wiPicgKyAocmVzdWx0c1tpXSA9PT0gdHJ1ZSA/IFwiPGRpdiBjbGFzcz0nY29ycmVjdCc+I1wiKyhpICsgMSkrXCI8c3Bhbj48L3NwYW4+PC9kaXY+XCI6IFwiPGRpdiBjbGFzcz0nd3JvbmcnPiNcIisoaSArIDEpK1wiPHNwYW4+PC9zcGFuPjwvZGl2PlwiKTtcbiAgICAgICAgICAgICAgICByZXN1bHRTZXQgKz0gJzxkaXYgY2xhc3M9XCJyZXN1bHRzdmlldy1xaG92ZXJcIj4nICsgY29uZmlnLnF1ZXN0aW9uc1tpXS5xdWVzdGlvbjtcbiAgICAgICAgICAgICAgICByZXN1bHRTZXQgKz0gXCI8dWw+XCI7XG4gICAgICAgICAgICAgICAgZm9yIChhbnN3ZXJzSXRlcmF0b3JJbmRleCA9IDA7IGFuc3dlcnNJdGVyYXRvckluZGV4IDwgY29uZmlnLnF1ZXN0aW9uc1tpXS5hbnN3ZXJzLmxlbmd0aDsgYW5zd2Vyc0l0ZXJhdG9ySW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3Nlc3RvQWRkID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcucXVlc3Rpb25zW2ldLmNvcnJlY3RBbnN3ZXIgPT0gYW5zd2Vyc0l0ZXJhdG9ySW5kZXggKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzdG9BZGQgKz0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlckFuc3dlcnNbaV0gPT0gYW5zd2Vyc0l0ZXJhdG9ySW5kZXggKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzdG9BZGQgKz0gJyBzZWxlY3RlZCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0U2V0ICs9ICc8bGkgY2xhc3M9XCInICsgY2xhc3Nlc3RvQWRkICsgJ1wiPicgKyBjb25maWcucXVlc3Rpb25zW2ldLmFuc3dlcnNbYW5zd2Vyc0l0ZXJhdG9ySW5kZXhdICsgJzwvbGk+JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0U2V0ICs9ICc8L3VsPjwvZGl2PjwvZGl2Pic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY29yZSA9IHJvdW5kUmVsb2FkZWQodHJ1ZUNvdW50IC8gcXVlc3Rpb25MZW5ndGggKiAxMDAsIDIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXN1bHRTZXQgPSAnPGgyIGNsYXNzPVwicVRpdGxlXCI+JyArIGp1ZGdlU2tpbGxzKHNjb3JlKSArICc8YnIvPiDmgqjnmoTliIbmlbDvvJogJyArIHNjb3JlICsgJzwvaDI+JyArIHNoYXJlQnV0dG9uICsgJzxkaXYgY2xhc3M9XCJqcXVpenp5LWNsZWFyXCI+PC9kaXY+JyArIHJlc3VsdFNldCArICc8ZGl2IGNsYXNzPVwianF1aXp6eS1jbGVhclwiPjwvZGl2Pic7XG4gICAgICAgICAgICBzdXBlckNvbnRhaW5lci5maW5kKCcucmVzdWx0LWtlZXBlcicpLmh0bWwocmVzdWx0U2V0KS5zaG93KDUwMCk7XG4gICAgICAgICAgICBzdXBlckNvbnRhaW5lci5maW5kKCcucmVzdWx0c3ZpZXctcWhvdmVyJykuaGlkZSgpO1xuICAgICAgICAgICAgc3VwZXJDb250YWluZXIuZmluZCgnLnJlc3VsdC1yb3cnKS5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5yZXN1bHRzdmlldy1xaG92ZXInKS5zaG93KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcucmVzdWx0c3ZpZXctcWhvdmVyJykuaGlkZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5zbGlkZS1jb250YWluZXInKS5mYWRlT3V0KDUwMCxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykubmV4dCgpLmZhZGVJbig1MDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH07XG59KShqUXVlcnkpO1xuIl19
